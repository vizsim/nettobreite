<!DOCTYPE html>
<html lang="de">

<head>
  <meta charset="utf-8" />
  <title>Nettobreite</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="expand-horizontal-svgrepo-com.svg" type="image/svg+xml">
  <link rel='stylesheet' href='https://unpkg.com/maplibre-gl@5.6.0/dist/maplibre-gl.css' />
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div id="map"></div>

  <div class="legend">
    <!-- ====================
MAIN HEADER
======================= -->
    <div class="legend-header legend-title" data-toggle="legend-root">
      <div style="flex-grow: 1;">
        <div class="legend-heading">
          <span>Nettobreite</span>
          <img src="expand-horizontal-svgrepo-com.svg" alt="width">
        </div>
        <div class="legend-subtext">
          Straßennettobreite-Darstellung auf Basis von OSM-Daten<span class="info-icon" title="Quelle: OpenStreetMap Contributors – Datenstand: 1.11.2025">ⓘ</span> <br>
          und der Berechnung von 
          <a href="https://www.osm-verkehrswende.org/cqi/" target="_blank" rel="noopener noreferrer">Cycling Quality Index</a>
          
        </div>
      </div>
      <span class="toggle-arrow toggle-root open" data-arrow="legend-root"></span>
    </div>

    <div class="legend-section-divider"></div>

    <!-- ====================
     Sektion: Nettobreite Layer
======================= -->
    <div class="legend-section" data-section="nettobreite">
      <div class="legend-section-title section-toggle" data-section-id="nettobreite"
        style="display: flex; align-items: center; justify-content: space-between;">
        <span>Nettobreite</span>
        <span class="toggle-arrow section-arrow open" data-arrow="nettobreite"></span>
      </div>
      <div class="legend-section-content">
        <div style="margin-top: 6px;">
          <label style="margin-left: 10px;">
            <input type="checkbox" id="toggle-nettobreite" checked />
            Nettobreite anzeigen
          </label>
        </div>
        
        <!-- Farb-Legende -->
        <div style="margin-left: 20px; margin-top: 12px; font-size: 11px;">
          <div style="font-weight: bold; margin-bottom: 8px;">Effektive Breite (in m)</div>
          <div style="margin-top: 8px;">
            <div class="legend-category" data-width-range="not-plausible" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#808080;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text">&lt; 2 m – Wert nicht plausibel</span>
            </div>
            <div class="legend-category" data-width-range="very-narrow" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#e51900;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text">2 – 3 m – Sehr schmal</span>
            </div>
            <div class="legend-category" data-width-range="narrow-3-4" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#ff5500;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text">3 – 4 m – Eng</span>
            </div>
            <div class="legend-category" data-width-range="narrow-4-45" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#ff8800;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text">4 – 4.5 m – Eng</span>
            </div>
            <div class="legend-category" data-width-range="narrow-45-5" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#ffaa00;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text">4.5 – 5 m – Eng</span>
            </div>
            <div class="legend-category" data-width-range="restricted-5-55" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#e5dd00;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text">5 – 5.5 m – Eingeschränkt</span>
            </div>
            <div class="legend-category" data-width-range="sufficient-55-6" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#ccff00;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text">5.5 – 6 m – Ausreichend</span>
            </div>
            <div class="legend-category" data-width-range="wide-6-7" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#99ff00;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text">6 – 7 m – Breit</span>
            </div>
            <div class="legend-category" data-width-range="very-wide-7-8" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#66ff00;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text">7 – 8 m – Sehr breit</span>
            </div>
            <div class="legend-category" data-width-range="very-wide-8plus" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#00cc00;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text">&gt; 8 m – Sehr breit</span>
            </div>
            <div class="legend-category" style="display: flex; align-items: center; margin-bottom: 4px;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#000000;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text">Fehlende Angaben</span>
            </div>
            <div class="legend-category legend-subcategory" data-width-range="cycleway-missing" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#000000;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text"><code>cycleway</code> nicht angegeben</span>
            </div>
            <div class="legend-category legend-subcategory" data-width-range="parking-missing" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#000000;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text"><code>parking</code> nicht angegeben</span>
            </div>
            <div class="legend-category legend-subcategory" data-width-range="widths-missing" style="display: flex; align-items: center; margin-bottom: 4px; cursor: pointer;">
              <span class="legend-color" style="display:inline-block;width:24px;height:4px;background:#000000;border:1px solid #ccc;margin-right:8px;border-radius:2px;"></span>
              <span class="legend-text"><code>width</code> nicht angegeben</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="legend-section-divider"></div>

    <div id="feature-count-wrapper"
      style="margin-top:10px; display: flex; justify-content: space-between; align-items: center; gap: 12px;">
      <div id="feature-count">
        <div>Zoomlevel: ...</div>
      </div>
      <a href="https://github.com/vizsim/nettobreite" target="_blank" title="Fehler melden oder Feedback geben">
        <img src="https://img.shields.io/badge/Status-Experimental-red" alt="Status: Experimental"
          style="height: 20px;">
      </a>
    </div>
  </div>

  <!-- Gemeinsamer Container -->
  <div id="bottom-left-ui-container">
    <div id="custom-nav-control"></div>

    <div id="basemap-thumbnails">
      <div class="basemap-thumb selected" data-map="standard" title="Standard"></div>
      <div class="basemap-thumb" data-map="satellite" title="Satellit"></div>
    </div>

    <div id="terrain-controls">
      <label><input type="checkbox" id="toggleTerrain" /> Terrain</label>
      <label><input type="checkbox" id="toggleHillshade" /> Hillshade</label>
    </div>
  </div>

  <script src="https://unpkg.com/maplibre-gl@5.9.0/dist/maplibre-gl.js" crossorigin="anonymous"></script>
  <script src="https://unpkg.com/pmtiles@4.3.0/dist/pmtiles.js"></script>
  <script type="module" src="./main.js"></script>
</body>

</html>
